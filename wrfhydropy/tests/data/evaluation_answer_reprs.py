import datetime
import pandas as pd


gof_answer_reprs = {

    '*CHRTOUT_DOMAIN1':
    '                        value\nstatistic                    \nagreementindex           1.00\nbias                    -0.00\ncorrelationcoefficient   1.00\ncovariance               0.00\ndecomposed_mse           0.00\nkge                      1.00\nlog_p                   -0.92\nlognashsutcliffe         1.00\nmae                      0.00\nmse                      0.00\nnashsutcliffe            1.00\npbias                    0.00\nrmse                     0.00\nrrmse                    0.00\nrsquared                 1.00\nrsr                      0.00\nvolume_error             0.00\nmean_obs                 0.05\nmedian_obs               0.01\nstd_obs                  0.03\nsample_size              8.00',

    '*LDASOUT_DOMAIN1':
    '                        value\nstatistic                    \nagreementindex           1.00\nbias                    -0.00\ncorrelationcoefficient   1.00\ncovariance               0.00\ndecomposed_mse           0.00\nkge                      1.00\nlog_p                   -0.92\nlognashsutcliffe         1.00\nmae                      0.00\nmse                      0.00\nnashsutcliffe            1.00\npbias                    0.00\nrmse                     0.00\nrrmse                    0.00\nrsquared                 1.00\nrsr                      0.00\nvolume_error             0.00\nmean_obs                 0.31\nmedian_obs               0.30\nstd_obs                  0.00\nsample_size             27.00',

    '*CHRTOUT_DOMAIN1-space':
    '                                   value\nfeature_id statistic                    \n6224258    agreementindex           1.00\n           bias                    -0.00\n           correlationcoefficient   1.00\n           covariance               0.00\n           decomposed_mse           0.00\n           kge                      1.00\n           log_p                   -0.92\n           lognashsutcliffe         1.00\n           mae                      0.00\n           mse                      0.00\n           nashsutcliffe            1.00\n           pbias                    0.00\n           rmse                     0.00\n           rrmse                    0.00\n           rsquared                 1.00\n           rsr                      0.00\n           volume_error             0.00\n           mean_obs                 0.10\n           median_obs               0.10\n           std_obs                  0.00\n           sample_size              2.00\n6226880    agreementindex           1.00\n           bias                    -0.00\n           correlationcoefficient   1.00\n           covariance               0.00\n           decomposed_mse           0.00\n           kge                      1.00\n           log_p                   -0.92\n           lognashsutcliffe         1.00\n           mae                      0.00\n           mse                      0.00\n           nashsutcliffe            1.00\n           pbias                    0.00\n           rmse                     0.00\n           rrmse                    0.00\n           rsquared                 1.00\n           rsr                      0.00\n           volume_error             0.00\n           mean_obs                 0.04\n           median_obs               0.04\n           std_obs                  0.00\n           sample_size              2.00\n6226946    agreementindex           1.00\n           bias                    -0.00\n           correlationcoefficient   1.00\n           covariance               0.00\n           decomposed_mse           0.00\n           kge                      1.00\n           log_p                   -0.92\n           lognashsutcliffe         1.00\n           mae                      0.00\n           mse                      0.00\n           nashsutcliffe            1.00\n           pbias                    0.00\n           rmse                     0.00\n           rrmse                    0.00\n           rsquared                 1.00\n           rsr                      0.00\n           volume_error             0.00\n           mean_obs                 0.05\n           median_obs               0.05\n           std_obs                  0.00\n           sample_size              2.00\n6229322    agreementindex           1.00\n           bias                    -0.00\n           correlationcoefficient   1.00\n           covariance               0.00\n           decomposed_mse           0.00\n           kge                      1.00\n           log_p                   -0.92\n           lognashsutcliffe         1.00\n           mae                      0.00\n           mse                      0.00\n           nashsutcliffe            1.00\n           pbias                    0.00\n           rmse                     0.00\n           rrmse                    0.00\n           rsquared                 1.00\n           rsr                      0.00\n           volume_error             0.00\n           mean_obs                 0.01\n           median_obs               0.01\n           std_obs                  0.00\n           sample_size              2.00',

    '*LDASOUT_DOMAIN1-space':
    '                                                                   value\nx           y             soil_layers_stag statistic                    \n1843500.875 -434500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.31\n                                           median_obs               0.31\n                                           std_obs                  0.00\n                                           sample_size              3.00\n            -432500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.31\n                                           median_obs               0.31\n                                           std_obs                  0.00\n                                           sample_size              3.00\n            -430500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.31\n                                           median_obs               0.31\n                                           std_obs                  0.00\n                                           sample_size              3.00\n1845500.875 -434500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.31\n                                           median_obs               0.31\n                                           std_obs                  0.00\n                                           sample_size              3.00\n            -432500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.31\n                                           median_obs               0.31\n                                           std_obs                  0.00\n                                           sample_size              3.00\n            -430500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.31\n                                           median_obs               0.31\n                                           std_obs                  0.00\n                                           sample_size              3.00\n1847500.875 -434500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.30\n                                           median_obs               0.30\n                                           std_obs                  0.00\n                                           sample_size              3.00\n            -432500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.32\n                                           median_obs               0.32\n                                           std_obs                  0.00\n                                           sample_size              3.00\n            -430500.34375 0                agreementindex           1.00\n                                           bias                    -0.00\n                                           correlationcoefficient   1.00\n                                           covariance               0.00\n                                           decomposed_mse           0.00\n                                           kge                      1.00\n                                           log_p                   -0.92\n                                           lognashsutcliffe         1.00\n                                           mae                      0.00\n                                           mse                      0.00\n                                           nashsutcliffe            1.00\n                                           pbias                    0.00\n                                           rmse                     0.00\n                                           rrmse                    0.00\n                                           rsquared                 1.00\n                                           rsr                      0.00\n                                           volume_error             0.00\n                                           mean_obs                 0.31\n                                           median_obs               0.31\n                                           std_obs                  0.00\n                                           sample_size              3.00',
}


base_dum_time = datetime.datetime(2000, 1, 1)
dumtime = [base_dum_time + datetime.timedelta(hours=dd) for dd in range(4)]
contingency_known_data_input = pd.DataFrame({
    #       hits         #mix           # misses         # false pos      # corr_neg
    'mod': [1, 1, 1, 1,   1, -1,  1, -1,  -1, -1, -1, -1,   1,  1,  1,  1,  -1, -1, -1, -1],
    'obs': [1, 1, 1, 1,   1,  1, -1, -1,   1,  1,  1,  1,  -1, -1, -1, -1,  -1, -1, -1, -1],
    'tsh': [0, 0, 0, 0,   0,  0, 0, 0,     0,  0,  0,  0,   0,  0,  0,  0,   0,  0,  0,  0],
    'loc': (['hits']*4)+ (['mix']*4)+     (['miss']*4)+  (['false_pos']*4)+  (['corr_neg']*4),
    'time': dumtime +     dumtime +        dumtime +      dumtime +           dumtime,
    }).set_index(['loc', 'time'])

contingency_known_data_answer = '             statistic  value  threshold\nloc                                     \ncorr_neg  0        acc   1.00          0\n          1       bias    NaN          0\n          2        pod    NaN          0\n          3        far    NaN          0\n          4       pofd   0.00          0\n          5         sr    NaN          0\n          6        csi    NaN          0\n          7        gss    NaN          0\n          8         hk    NaN          0\n          9         or    NaN          0\n          10      orss    NaN          0\n          11         N   0.00          0\nfalse_pos 0        acc   0.00          0\n          1       bias    NaN          0\n          2        pod    NaN          0\n          3        far   1.00          0\n          4       pofd   1.00          0\n          5         sr   0.00          0\n          6        csi   0.00          0\n          7        gss   0.00          0\n          8         hk    NaN          0\n          9         or    NaN          0\n          10      orss    NaN          0\n          11         N   0.00          0\nhits      0        acc   1.00          0\n          1       bias   1.00          0\n          2        pod   1.00          0\n          3        far   0.00          0\n          4       pofd    NaN          0\n          5         sr   1.00          0\n          6        csi   1.00          0\n          7        gss    NaN          0\n          8         hk    NaN          0\n          9         or    NaN          0\n          10      orss    NaN          0\n          11         N   4.00          0\nmiss      0        acc   0.00          0\n          1       bias   0.00          0\n          2        pod   0.00          0\n          3        far    NaN          0\n          4       pofd    NaN          0\n          5         sr    NaN          0\n          6        csi   0.00          0\n          7        gss   0.00          0\n          8         hk    NaN          0\n          9         or    NaN          0\n          10      orss    NaN          0\n          11         N   4.00          0\nmix       0        acc   0.50          0\n          1       bias   1.00          0\n          2        pod   0.50          0\n          3        far   0.50          0\n          4       pofd   0.50          0\n          5         sr   0.50          0\n          6        csi   0.33          0\n          7        gss   0.00          0\n          8         hk   0.00          0\n          9         or   1.00          0\n          10      orss   0.00          0\n          11         N   2.00          0'
